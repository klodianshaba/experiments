<div *appHasPermission="1">
  <strong>Short hand foreach structural directive</strong> <br /><br />
  <div class="items">
    <div
      appCard
      *appForeach="
        let item of items;
        empty: emptyTemplate;
        let index = index;
        let first = first;
        let last = last
      ">
      <div>
        <span *appIf="!first && !last"> {{ index }}</span>
        <span *appIf="first"> first</span>
        <span *appIf="last"> last </span>
      </div>
    </div>
  </div>
  <br />
  <strong>Long form foreach structural directive</strong> <br /><br />
  <div class="items">
    <ng-template
      appForeach
      let-item
      let-index="index"
      let-first="first"
      let-last="last"
      [appForeachOf]="items"
      [appForeachEmpty]="emptyTemplate">
      <div appCard>
        <span *appIf="!first && !last"> {{ index }}</span>
        <span *appIf="first"> first</span>
        <span *appIf="last"> last </span>
      </div>
    </ng-template>
  </div>
</div>
<ng-template #emptyTemplate>empty</ng-template>

<div class="content"></div>

@defer (on viewport) {
  <app-insights />
} @placeholder (minimum 500ms) {
  <p>Placeholder insights</p>
} @loading (minimum 1s) {
  <p>Loading insights</p>
} @error {
  <p>Fail to load insights</p>
}
